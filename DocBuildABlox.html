<h1>Module Blox Builder</h1>

<p>Module Blox Builder is available in the Admin section and requires some knowledge of database table design, column types and form layout. It is intended to create some skeleton code for you that you can then continue working with. It cannot modify existing files and will overwrite files if you try.</p>

<h2>Building a Module Blox</h2>

<p>The builder generates the code for a module based on the inputs to a few form fields and can build a DB based module or a module without DB access.  The builder can create a DB table for you or you can use an existing db table to create the module.</p>

<p>To create a new module which does not require DB access requires you to fill out one form field (the module name field) and pressing the "Build" button.</p>

<p>This will generate a module in the <em>application/modules</em> folder with config, controllers, language, migrations (for permissions) and view files.  Amazing for one form field and a button click.</p>

<p>Of course that's just the basic module.  To get more you have to give more!</p>

<p>If you want to use a DB table then you need to fill out more fields.  You can choose to build a new DB table or choose an existing table.</p>

<p><a name="new-db-table"></a></p>

<h3>With a new database table</h3>

<p>You must choose the number of fields you would like in the table, excluding the primary key field which is automatically included.</p>

<p>Then for every field you fill in the form Label, table field name, form input element, table field type, table field length and the form validation settings you would like.</p>

<p>The primary key is assumed to be "id" but this is editable before (and of course after) the form is submitted.</p>

<p>Once the field details have been entered then just click the "Build" button.</p>

<p>Hey presto! Now you have a brand new shiny module with all files mentioned above as well as a new model file and a migration file to create the table in the database.  The migration file is even run automatically so you can use the module straight away.</p>

<h3>With an existing database table</h3>

<p>You must choose the name of the table which you would like to use to build your module.</p>

<p>The table name must include the prefix used for your site which is "igo_" by default. If your table does not have this prefix then please rename it to include the prefix. Now click on the "Build" button.</p>

<p>This  reads the structure of the database table and picks out the field characteristics including the primary field.</p>

<p>The page returned includes settings for each of the fields and sets up the field label for you.</p>

<p>For every field you can change this data but it is advisable to only change the Label and Validation settings as anything else may cause errors.</p>

<p>When you are finished editing the fields just click the "Build" button again.</p>

<p>Now you have a new module based on your previous database table with all files mentioned above as well as a new model file.  The migration file is not created in this case as the table already exists but there is a migration file for the permission settings which is processed automatically so you can use the module straight away.</p>

<h2>Module Builder Options</h2>

<p>There are lots of options which you can use when building your module.  These options are hidden by default but to see them you just click on the "Toggle Advanced Options" links.</p>

<p>Clicking on the link will display the options below the link. Then for every field you fill in the form Label, table field name, form input element, table field type, table field length and the form validation settings you would like.</p>

<p>There are two sets of options, Module Options and Table Options which we will describe below.</p>

<p><a name="module-options"></a></p>

<h3>Module Options</h3>

<p>The Module Options allow you to customize the module functionality.  The options are:</p>

<ul>
<li><strong>Module Description</strong> - The module description is placed in the module config file and appears on the module list in the main Module Builder page.</li>
<li><strong>Controllers Required</strong> - Lists the available contexts (controller names), you choose which to create for your module. All contexts are selected by default.</li>
<li><strong>Controller Actions</strong> - Lists the CRUD actions which the builder can create for you. All actions are selected by default.</li>
</ul>

<p><a name="table-options"></a></p>

<h3>Table Options</h3>

<p>The Table Options are related to the DB table if you chose to build the module with DB access. The options are:</p>

<ul>
<li><strong>Table Name</strong> - This is the name given to the table in the database. This is defaulted to the lowercase and underscored version of the module name.</li>
<li><strong>Form Error Delimiters</strong></li>
<li><strong>Use "Soft" Deletes</strong> - Default value: FALSE</li>
<li><strong>Use "Created" Field</strong> - Default value: FALSE</li>
<li><strong>"Created<em>on" Field Name</strong> - Default value: 'created</em>on'</li>
<li><strong>Use "Modified" Field</strong> - Default value: FALSE</li>
<li><strong>"Modified" Field Name</strong> - Default value: 'modified_on'</li>
<li><strong>Primary Key</strong> - Default value: 'id'</li>
</ul>

<p><a name="known-issues"></a></p>

<h2>Known Issues</h2>

<p>The Module Builder is a great way to get started but there are a couple of issues which you should be aware of:</p>

<ul>
<li>This module is undergoing changes.</li>
<li>Error messaging is not the best when something goes wrong.</li>
<li>Building from existing tables shows some fields in the form which are not applicable.</li>
</ul>

<p><a name="addl-resources"></a></p>
<h2>Additional Resources</h2>
 
 <p>Q. What are modules, why should I use them?</p>
<p>A. (<a href="http://en.wikipedia.org/wiki/Module" rel="nofollow">http://en.wikipedia.org/wiki/Module</a>)</p>
<p>(<a href="http://en.wikipedia.org/wiki/Modular_programming" rel="nofollow">http://en.wikipedia.org/wiki/Modular_programming</a>)</p>
<p>(<a href="http://blog.fedecarg.com/2008/06/28/a-modular-approach-to-web-development" rel="nofollow">http://blog.fedecarg.com/2008/06/28/a-modular-approach-to-web-development</a>)</p>
<p>Q. What is Modular HMVC, why should I use it?</p>
<p>A. Modular HMVC = Hierarchy of multiple MVC triads</p>
<p>This is most useful when you need to load a view and its data within a view. Think about adding a shopping 
cart to a page. The shopping cart needs its own controller which may call a model to get cart data. 
Then the controller needs to load the data into a view. So instead of the main controller handling the 
page and the shopping cart, the shopping cart MVC can be loaded directly in the page. 
The main controller doesn’t need to know about it, and is totally isolated from it.</p>
<p>In CI we can’t call more than 1 controller per request. Therefore, to achieve HMVC, we have to simulate 
controllers. It can be done with libraries, or with this “Modular Extensions HMVC” contribution.</p>
<p>The differences between using a library and a “Modular HMVC” HMVC class is:
1. No need to get and use the CI instance within an HMVC class
2. HMVC classes are stored in a modules directory as opposed to the libraries directory.</p>
<p>Q. Is Modular Extensions HMVC the same as Modular Separation?</p>
<p>A. Yes and No. Like Modular Separation, Modular Extensions makes modules “portable” to other installations. For example, if you make a nice self-contained model-controller-view set of files you can bring that MVC into another project by copying just one folder - everything is in one place instead of spread around model, view and controller folders.</p>
<p>Modular HMVC means modular MVC triads. Modular Separation and Modular Extensions allows related 
controllers, models, libraries, views, etc. to be grouped together in module directories and used 
like a mini application. But, Modular Extensions goes one step further and allows those modules to 
"talk" to each other. You can get controller output without having to go out through the http interface 
again.</p>


