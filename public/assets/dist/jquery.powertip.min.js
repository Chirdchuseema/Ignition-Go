!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){function t(){var t=this;t.top="auto",t.left="auto",t.right="auto",t.bottom="auto",t.set=function(o,n){e.isNumeric(n)&&(t[o]=Math.round(n))}}function o(e,t,o){function n(n,i){r(),e.data(y)?a():n?(i&&e.data(b,!0),l(),o.showTip(e)):(Y.tipOpenImminent=!0,u=setTimeout(function(){u=null,s()},t.intentPollInterval))}function i(n){p&&(p=Y.closeDelayTimeout=clearTimeout(p),Y.delayInProgress=!1),r(),Y.tipOpenImminent=!1,e.data(y)&&(e.data(b,!1),n?o.hideTip(e):(Y.delayInProgress=!0,Y.closeDelayTimeout=setTimeout(function(){Y.closeDelayTimeout=null,o.hideTip(e),Y.delayInProgress=!1,p=null},t.closeDelay),p=Y.closeDelayTimeout))}function s(){var i=Math.abs(Y.previousX-Y.currentX),s=Math.abs(Y.previousY-Y.currentY),r=i+s;r<t.intentSensitivity?(a(),l(),o.showTip(e)):(Y.previousX=Y.currentX,Y.previousY=Y.currentY,n())}function r(e){u=clearTimeout(u),(Y.closeDelayTimeout&&p===Y.closeDelayTimeout||e)&&a()}function a(){Y.closeDelayTimeout=clearTimeout(Y.closeDelayTimeout),Y.delayInProgress=!1}function l(){Y.delayInProgress&&Y.activeHover&&!Y.activeHover.is(e)&&Y.activeHover.data(g).hide(!0)}function c(){o.resetPosition(e)}var u=null,p=null;this.show=n,this.hide=i,this.cancel=r,this.resetPosition=c}function n(){function e(e,i,r,a,l){var c,u=i.split("-")[0],p=new t;switch(c=s(e)?n(e,u):o(e,u),i){case"n":p.set("left",c.left-r/2),p.set("bottom",Y.windowHeight-c.top+l);break;case"e":p.set("left",c.left+l),p.set("top",c.top-a/2);break;case"s":p.set("left",c.left-r/2),p.set("top",c.top+l);break;case"w":p.set("top",c.top-a/2),p.set("right",Y.windowWidth-c.left+l);break;case"nw":p.set("bottom",Y.windowHeight-c.top+l),p.set("right",Y.windowWidth-c.left-20);break;case"nw-alt":p.set("left",c.left),p.set("bottom",Y.windowHeight-c.top+l);break;case"ne":p.set("left",c.left-20),p.set("bottom",Y.windowHeight-c.top+l);break;case"ne-alt":p.set("bottom",Y.windowHeight-c.top+l),p.set("right",Y.windowWidth-c.left);break;case"sw":p.set("top",c.top+l),p.set("right",Y.windowWidth-c.left-20);break;case"sw-alt":p.set("left",c.left),p.set("top",c.top+l);break;case"se":p.set("left",c.left-20),p.set("top",c.top+l);break;case"se-alt":p.set("top",c.top+l),p.set("right",Y.windowWidth-c.left)}return p}function o(e,t){var o,n,i=e.offset(),s=e.outerWidth(),r=e.outerHeight();switch(t){case"n":o=i.left+s/2,n=i.top;break;case"e":o=i.left+s,n=i.top+r/2;break;case"s":o=i.left+s/2,n=i.top+r;break;case"w":o=i.left,n=i.top+r/2;break;case"nw":o=i.left,n=i.top;break;case"ne":o=i.left+s,n=i.top;break;case"sw":o=i.left,n=i.top+r;break;case"se":o=i.left+s,n=i.top+r}return{top:n,left:o}}function n(e,t){function o(){d.push(c.matrixTransform(p))}var n,i,s,r,a=e.closest("svg")[0],l=e[0],c=a.createSVGPoint(),u=l.getBBox(),p=l.getScreenCTM(),f=u.width/2,w=u.height/2,d=[],h=["nw","n","ne","e","se","s","sw","w"];if(c.x=u.x,c.y=u.y,o(),c.x+=f,o(),c.x+=f,o(),c.y+=w,o(),c.y+=w,o(),c.x-=f,o(),c.x-=f,o(),c.y-=w,o(),d[0].y!==d[1].y||d[0].x!==d[7].x)for(i=Math.atan2(p.b,p.a)*X,s=Math.ceil((i%360-22.5)/45),s<1&&(s+=8);s--;)h.push(h.shift());for(r=0;r<d.length;r++)if(h[r]===t){n=d[r];break}return{top:n.y+Y.scrollTop,left:n.x+Y.scrollLeft}}this.compute=e}function i(o){function i(e){e.data(y,!0),P.queue(function(t){s(e),t()})}function s(t){var n;if(t.data(y)){if(Y.isTipOpen)return Y.isClosing||r(Y.activeHover),void P.delay(100).queue(function(e){s(t),e()});t.trigger("powerTipPreRender"),n=w(t),n&&(P.empty().append(n),t.trigger("powerTipRender"),Y.activeHover=t,Y.isTipOpen=!0,P.data(k,o.mouseOnToPopup),P.addClass(o.popupClass),!o.followMouse||t.data(b)?(l(t),Y.isFixedTipOpen=!0):a(),t.data(b)||o.followMouse||v.on("click"+C,function(n){var i=n.target;i!==t[0]&&(o.mouseOnToPopup?i===P[0]||e.contains(P[0],i)||e.powerTip.hide():e.powerTip.hide())}),o.mouseOnToPopup&&!o.manual&&(P.on("mouseenter"+C,function(){Y.activeHover&&Y.activeHover.data(g).cancel()}),P.on("mouseleave"+C,function(){Y.activeHover&&Y.activeHover.data(g).hide()})),P.fadeIn(o.fadeInTime,function(){Y.desyncTimeout||(Y.desyncTimeout=setInterval(u,500)),t.trigger("powerTipOpen")}))}}function r(e){Y.isClosing=!0,Y.isTipOpen=!1,Y.desyncTimeout=clearInterval(Y.desyncTimeout),e.data(y,!1),e.data(b,!1),v.off("click"+C),P.off(C),P.fadeOut(o.fadeOutTime,function(){var n=new t;Y.activeHover=null,Y.isClosing=!1,Y.isFixedTipOpen=!1,P.removeClass(),n.set("top",Y.currentY+o.offset),n.set("left",Y.currentX+o.offset),P.css(n),e.trigger("powerTipClose")})}function a(){var e,n,i,s,r;!Y.isFixedTipOpen&&(Y.isTipOpen||Y.tipOpenImminent&&P.data(H))&&(e=P.outerWidth(),n=P.outerHeight(),i=new t,i.set("top",Y.currentY+o.offset),i.set("left",Y.currentX+o.offset),s=d(i,e,n),s!==W.none&&(r=h(s),1===r?s===W.right?i.set("left",Y.scrollLeft+Y.windowWidth-e):s===W.bottom&&i.set("top",Y.scrollTop+Y.windowHeight-n):(i.set("left",Y.currentX-e-o.offset),i.set("top",Y.currentY-n-o.offset))),P.css(i))}function l(t){var n,i;o.smartPlacement||o.followMouse&&t.data(b)?(n=e.fn.powerTip.smartPlacementLists[o.placement],e.each(n,function(e,o){var n=d(c(t,o),P.outerWidth(),P.outerHeight());return i=o,n!==W.none})):(c(t,o.placement),i=o.placement),P.removeClass("w nw sw e ne se n s w se-alt sw-alt ne-alt nw-alt"),P.addClass(i)}function c(e,n){var i,s,r=0,a=new t;a.set("top",0),a.set("left",0),P.css(a);do i=P.outerWidth(),s=P.outerHeight(),a=p.compute(e,n,i,s,o.offset),P.css(a);while(++r<=5&&(i!==P.outerWidth()||s!==P.outerHeight()));return a}function u(){var t=!1,n=e.grep(["mouseleave","mouseout","blur","focusout"],function(t){return e.inArray(t,o.closeEvents)!==-1}).length>0;Y.isTipOpen&&!Y.isClosing&&!Y.delayInProgress&&n&&(Y.activeHover.data(y)===!1||Y.activeHover.is(":disabled")?t=!0:f(Y.activeHover)||Y.activeHover.is(":focus")||Y.activeHover.data(b)||(P.data(k)?f(P)||(t=!0):t=!0),t&&r(Y.activeHover))}var p=new n,P=e("#"+o.popupId);0===P.length&&(P=e("<div/>",{id:o.popupId}),0===T.length&&(T=e("body")),T.append(P),Y.tooltips=Y.tooltips?Y.tooltips.add(P):P),o.followMouse&&(P.data(H)||(v.on("mousemove"+C,a),m.on("scroll"+C,a),P.data(H,!0))),this.showTip=i,this.hideTip=r,this.resetPosition=l}function s(e){return Boolean(window.SVGElement&&e[0]instanceof SVGElement)}function r(t){return Boolean(t&&e.inArray(t.type,M)>-1&&"number"==typeof t.pageX)}function a(){Y.mouseTrackingActive||(Y.mouseTrackingActive=!0,l(),e(l),v.on("mousemove"+C,p),m.on("resize"+C,c),m.on("scroll"+C,u))}function l(){Y.scrollLeft=m.scrollLeft(),Y.scrollTop=m.scrollTop(),Y.windowWidth=m.width(),Y.windowHeight=m.height()}function c(){Y.windowWidth=m.width(),Y.windowHeight=m.height()}function u(){var e=m.scrollLeft(),t=m.scrollTop();e!==Y.scrollLeft&&(Y.currentX+=e-Y.scrollLeft,Y.scrollLeft=e),t!==Y.scrollTop&&(Y.currentY+=t-Y.scrollTop,Y.scrollTop=t)}function p(e){Y.currentX=e.pageX,Y.currentY=e.pageY}function f(e){var t=e.offset(),o=e[0].getBoundingClientRect(),n=o.right-o.left,i=o.bottom-o.top;return Y.currentX>=t.left&&Y.currentX<=t.left+n&&Y.currentY>=t.top&&Y.currentY<=t.top+i}function w(t){var o,n,i=t.data(O),s=t.data(I),r=t.data(x);return i?(e.isFunction(i)&&(i=i.call(t[0])),n=i):s?(e.isFunction(s)&&(s=s.call(t[0])),s.length>0&&(n=s.clone(!0,!0))):r&&(o=e("#"+r),o.length>0&&(n=o.html())),n}function d(e,t,o){var n=Y.scrollTop,i=Y.scrollLeft,s=n+Y.windowHeight,r=i+Y.windowWidth,a=W.none;return(e.top<n||Math.abs(e.bottom-Y.windowHeight)-o<n)&&(a|=W.top),(e.top+o>s||Math.abs(e.bottom-Y.windowHeight)>s)&&(a|=W.bottom),(e.left<i||e.right+t>r)&&(a|=W.left),(e.left+t>r||e.right<i)&&(a|=W.right),a}function h(e){for(var t=0;e;)e&=e-1,t++;return t}var v=e(document),m=e(window),T=e("body"),g="displayController",y="hasActiveHover",b="forcedOpen",H="hasMouseMove",k="mouseOnToPopup",P="originalTitle",O="powertip",I="powertipjq",x="powertiptarget",C=".powertip",X=180/Math.PI,M=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","contextmenu"],Y={elements:null,tooltips:null,isTipOpen:!1,isFixedTipOpen:!1,isClosing:!1,tipOpenImminent:!1,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,closeDelayTimeout:null,mouseTrackingActive:!1,delayInProgress:!1,windowWidth:0,windowHeight:0,scrollTop:0,scrollLeft:0},W={none:0,top:1,bottom:2,left:4,right:8};return e.fn.powerTip=function(t,n){var s,l,c=this;return c.length?"string"===e.type(t)&&e.powerTip[t]?e.powerTip[t].call(c,c,n):(s=e.extend({},e.fn.powerTip.defaults,t),e.powerTip.destroy(c),l=new i(s),a(),c.each(function(){var t=e(this),n=t.data(O),i=t.data(I),r=t.data(x),a=t.attr("title");n||r||i||!a||(t.data(O,a),t.data(P,a),t.removeAttr("title")),t.data(g,new o(t,s,l))}),s.manual||(e.each(s.openEvents,function(t,o){e.inArray(o,s.closeEvents)>-1?c.on(o+C,function(t){e.powerTip.toggle(this,t)}):c.on(o+C,function(t){e.powerTip.show(this,t)})}),e.each(s.closeEvents,function(t,o){e.inArray(o,s.openEvents)<0&&c.on(o+C,function(t){e.powerTip.hide(this,!r(t))})}),c.on("keydown"+C,function(t){27===t.keyCode&&e.powerTip.hide(this,!0)})),Y.elements=Y.elements?Y.elements.add(c):c,c):c},e.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:!1,popupId:"powerTip",popupClass:null,intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",smartPlacement:!1,offset:10,mouseOnToPopup:!1,manual:!1,openEvents:["mouseenter","focus"],closeEvents:["mouseleave","blur"]},e.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:["e","ne","se","w","nw","sw","n","s","e"],s:["s","se","sw","n"],w:["w","nw","sw","e","ne","se","n","s","w"],nw:["nw","w","sw","n","s","se","nw"],ne:["ne","e","se","n","s","sw","ne"],sw:["sw","w","nw","s","n","ne","sw"],se:["se","e","ne","s","n","nw","se"],"nw-alt":["nw-alt","n","ne-alt","sw-alt","s","se-alt","w","e"],"ne-alt":["ne-alt","n","nw-alt","se-alt","s","sw-alt","e","w"],"sw-alt":["sw-alt","s","se-alt","nw-alt","n","ne-alt","w","e"],"se-alt":["se-alt","s","sw-alt","ne-alt","n","nw-alt","e","w"]},e.powerTip={show:function(t,o){return r(o)?(p(o),Y.previousX=o.pageX,Y.previousY=o.pageY,e(t).data(g).show()):e(t).first().data(g).show(!0,!0),t},reposition:function(t){return e(t).first().data(g).resetPosition(),t},hide:function(t,o){var n;return o=!t||o,t?n=e(t).first().data(g):Y.activeHover&&(n=Y.activeHover.data(g)),n&&n.hide(o),t},toggle:function(t,o){return Y.activeHover&&Y.activeHover.is(t)?e.powerTip.hide(t,!r(o)):e.powerTip.show(t,o),t},destroy:function(t){var o=t?e(t):Y.elements;return Y.elements&&0!==Y.elements.length?(Y.isTipOpen&&!Y.isClosing&&o.filter(Y.activeHover).length>0&&(Y.delayInProgress&&Y.activeHover.data(g).cancel(),e.powerTip.hide(Y.activeHover,!0)),o.off(C).each(function(){var t=e(this),o=[P,g,y,b];t.data(P)&&(t.attr("title",t.data(P)),o.push(O)),t.removeData(o)}),Y.elements=Y.elements.not(o),0===Y.elements.length&&(m.off(C),v.off(C),Y.mouseTrackingActive=!1,Y.tooltips.remove(),Y.tooltips=null),t):t}},e.powerTip.showTip=e.powerTip.show,e.powerTip.closeTip=e.powerTip.hide,e.powerTip});